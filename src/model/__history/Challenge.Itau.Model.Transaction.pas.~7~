unit Challenge.Itau.Model.Transaction;

interface

uses
  System.SysUtils;

type
  TChallengeItauModelTransaction = class
  private
    FInstance: TChallengeItauModelTransaction;
    FValue: Currency;
    FDate: TDateTime;

    constructor Create;

    procedure SetDate(const Value: TDateTime);
    procedure SetValue(const Value: Currency);
  public
    class function GetTransactionModel: TChallengeItauModelTransaction;
    property Value: Currency read FValue write SetValue;
    property Date: TDateTime read FDate write SetDate;
  end;

implementation

{ TChallengeItauModelTransaction }

constructor TChallengeItauModelTransaction.Create;
begin

end;

class function TChallengeItauModelTransaction.GetTransactionModel: TChallengeItauModelTransaction;
begin
  if not Assigned(FInstance) then
    FInstance := Self.Create;
  Result := FInstance;
end;

procedure TChallengeItauModelTransaction.SetDate(const Value: TDateTime);
begin
  if Value = 0 then
    raise Exception.Create('Data inválida para uma transação');
  FDate := Value;
end;

procedure TChallengeItauModelTransaction.SetValue(const Value: Currency);
begin
  if Value = 0 then
    raise Exception.Create('Valor inválido para uma transação');
  FValue := Value;
end;

end.
